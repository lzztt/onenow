# 通用唯一识别码（UUID）

系统里的每个entity都需要一个ID。

Note也需要有ID来标识。

## 选择UUID的原因
- 安全性，ID不连续，不用担心被猜到，从而防止notes从外部被遍历扫描。
- 唯一性，不用担心ID重复的情况，从而可以横向扩展，由不同机器生成。
- 稳定性，因为空间足够大，不用担心ID不够用，所以每个Note的ID都可以长久保持不变。

## 迁移步骤
1. 为现有note生成UUID，[重命名现有note文件](https://github.com/lzztt/onenow/commit/c46c477378fd18e549b9683573705c5d234d1671)，使文件名包含UUID。
2. 扩展note的`gRPC` API，[加上UUID字段（field）](https://github.com/lzztt/onenow/commit/0e809b0636e4e4dd29c99f9802cb820cf5b67682)。
3. 在backend加UUID支持，[从note的文件名中提取UUID](https://github.com/lzztt/onenow/commit/0e809b0636e4e4dd29c99f9802cb820cf5b67682)。
4. [更新frontend里的note链接](https://github.com/lzztt/onenow/commit/e4b4c74c7c9c9bea939cd4d3eb63dd8e292dced1)，使用UUID来标识note。
